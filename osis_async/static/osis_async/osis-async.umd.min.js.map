{"version":3,"file":"osis-async.umd.min.js","sources":["../../../frontend/components/AsyncTask.vue","../../../frontend/AsyncTasksViewer.vue","../../../frontend/i18n.ts","../../../frontend/main.ts"],"sourcesContent":["<!--\n  -\n  -   OSIS stands for Open Student Information System. It's an application\n  -   designed to manage the core business of higher education institutions,\n  -   such as universities, faculties, institutes and professional schools.\n  -   The core business involves the administration of students, teachers,\n  -   courses, programs and so on.\n  -\n  -   Copyright (C) 2015-2023 Université catholique de Louvain (http://www.uclouvain.be)\n  -\n  -   This program is free software: you can redistribute it and/or modify\n  -   it under the terms of the GNU General Public License as published by\n  -   the Free Software Foundation, either version 3 of the License, or\n  -   (at your option) any later version.\n  -\n  -   This program is distributed in the hope that it will be useful,\n  -   but WITHOUT ANY WARRANTY; without even the implied warranty of\n  -   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  -   GNU General Public License for more details.\n  -\n  -   A copy of this license - GNU General Public License - is available\n  -   at the root of the source code of this program.  If not,\n  -   see http://www.gnu.org/licenses/.\n  -\n  -->\n<template>\n  <li class=\"async-task-dropdown-item container\">\n    <div class=\"row\">\n      <div class=\"col-12 text-left text-start\">\n        <span :class=\"{ 'font-bold': !isDone }\">\n          {{ name }}\n        </span>\n        <span class=\"async-task-date pull-right float-end\">\n          <em>{{ asyncDate }}</em>\n        </span>\n      </div>\n      <div class=\"col-12 text-left text-start\">\n        <span\n            class=\"async-task-text\"\n            v-html=\"description\"\n        />\n      </div>\n      <div class=\"col-12\">\n        <div class=\"progress\">\n          <div\n              class=\"progress-bar progress-bar-striped\"\n              :class=\"{ 'active': isProcessing, 'progress-bar-success bg-success': isDone, 'progress-bar-danger bg-danger': isInError }\"\n              role=\"progressbar\"\n              :aria-valuenow=\"computedProgression\"\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              :style=\"{ width: computedProgression + '%' }\"\n          >\n            <template v-if=\"isInError\">\n              {{ $t('async_task.error_task') }}\n            </template>\n            <template v-if=\"!isInError\">\n              {{ computedProgression }}%\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n  </li>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from \"vue\";\nimport type {PropType} from \"vue\";\n\nexport default defineComponent({\n  name: 'AsyncTask',\n  props: {\n    uuid: {\n      type: String,\n      required: true,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n    description: {\n      type: String,\n      required: true,\n    },\n    progression: {\n      type: Number,\n      required: true,\n    },\n    state: {\n      type: String,\n      required: true,\n    },\n    createdAt: {\n      type: String,\n      required: true,\n    },\n    startedAt: {\n      type: String as PropType<string | null>,\n      default: null,\n    },\n    completedAt: {\n      type: String as PropType<string | null>,\n      default: null,\n    },\n  },\n  computed: {\n    isProcessing: function () {\n      return this.state === 'PROCESSING';\n    },\n    isDone: function () {\n      return this.state === 'DONE';\n    },\n    isInError: function () {\n      return this.state === 'ERROR';\n    },\n    computedProgression: function () {\n      return (this.isInError) ? 100: this.progression;\n    },\n    asyncDate: function () {\n      if (this.completedAt) {\n        return `${this.$t('async_task.completed_at')} : ${this.completedAt}`;\n      } else if (this.startedAt) {\n        return `${this.$t('async_task.started_at')} : ${this.startedAt}`;\n      } else {\n        return `${this.$t('async_task.created_at')} : ${this.createdAt}`;\n      }\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\n.async-task-dropdown-item {\n  padding: 10px;\n\n  .row {\n    margin: 0;\n  }\n\n  &:hover {\n    background-color: #f5f5f5;\n  }\n\n  .label {\n    margin-right: 10px;\n  }\n\n  .async-task-date {\n    padding-right: 5px;\n  }\n\n  .progress {\n    margin-top: 5px;\n\n    .progress-bar {\n      min-width: 2em;\n    }\n  }\n}\n\n.font-bold {\n  font-weight: bold;\n}\n</style>\n","<!--\n  -\n  -   OSIS stands for Open Student Information System. It's an application\n  -   designed to manage the core business of higher education institutions,\n  -   such as universities, faculties, institutes and professional schools.\n  -   The core business involves the administration of students, teachers,\n  -   courses, programs and so on.\n  -\n  -   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)\n  -\n  -   This program is free software: you can redistribute it and/or modify\n  -   it under the terms of the GNU General Public License as published by\n  -   the Free Software Foundation, either version 3 of the License, or\n  -   (at your option) any later version.\n  -\n  -   This program is distributed in the hope that it will be useful,\n  -   but WITHOUT ANY WARRANTY; without even the implied warranty of\n  -   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  -   GNU General Public License for more details.\n  -\n  -   A copy of this license - GNU General Public License - is available\n  -   at the root of the source code of this program.  If not,\n  -   see http://www.gnu.org/licenses/.\n  -\n  -->\n<template>\n  <a\n      class=\"dropdown-toggle nav-link\"\n      data-toggle=\"dropdown\"\n      data-bs-toggle=\"dropdown\"\n      data-bs-auto-close=\"outside\"\n      href=\"#\"\n      role=\"button\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n  >\n    <div\n        class=\"download\"\n        :data-count=\"pendingAsyncTasksCount\"\n        :class=\"{'show-count': pendingAsyncTasksCount }\"\n    >\n      <span class=\"fas fa-tasks\" />\n    </div>\n  </a>\n  <ul\n      class=\"dropdown-menu async-tasks-dropdown dropdown-menu-end w-md-container w-xl-container\"\n  >\n    <li v-if=\"error\">\n      <div\n          class=\"alert alert-warning\"\n          role=\"alert\"\n      >\n        {{ error }}\n      </div>\n    </li>\n    <AsyncTask\n        v-for=\"asyncTask in asyncTasks\"\n        :key=\"asyncTask.uuid\"\n        :uuid=\"asyncTask.uuid\"\n        :name=\"asyncTask.name\"\n        :description=\"asyncTask.description\"\n        :progression=\"asyncTask.progression\"\n        :state=\"asyncTask.state\"\n        :created-at=\"asyncTask.created_at\"\n        :started-at=\"asyncTask.started_at\"\n        :completed-at=\"asyncTask.completed_at\"\n    />\n    <li\n        v-if=\"!loading && !asyncTasks.length\"\n    >\n      {{ $t('async_tasks_viewer.no_results') }}\n    </li>\n    <li\n        v-if=\"loading\"\n        class=\"progress\"\n    >\n      <div\n          class=\"progress-bar progress-bar-striped active\"\n          role=\"progressbar\"\n          aria-valuenow=\"100\"\n          aria-valuemin=\"0\"\n          aria-valuemax=\"100\"\n          style=\"width: 100%\"\n      >\n        <span class=\"sr-only\">\n          {{ $t('async_tasks_viewer.load_more') }}\n        </span>\n      </div>\n    </li>\n    <li\n        v-else-if=\"hasNextPage\"\n        class=\"text-center\"\n    >\n      <button\n          type=\"button\"\n          class=\"btn btn-link\"\n          @click=\"loadMore\"\n      >\n        {{ $t('async_tasks_viewer.load_more') }}\n      </button>\n    </li>\n  </ul>\n</template>\n\n<script lang=\"ts\">\nimport AsyncTask from './components/AsyncTask.vue';\nimport {defineComponent} from \"vue\";\nimport type {EntriesResponse, Entry} from \"./interfaces\";\nimport type jQuery from \"jquery\";\n\ndeclare global {\n  interface Window {\n    jQuery: typeof jQuery;\n  }\n}\n\nexport default defineComponent({\n  name: 'AsyncTasksViewer',\n  components: {AsyncTask},\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n    interval: {\n      type: Number,\n      default: 300,\n    },\n    limit: {\n      type: Number,\n      default: 15,\n    },\n  },\n  data() {\n    return {\n      asyncTasks: [] as Entry[],\n      hasNextPage: false,\n      pageSize: this.limit,\n      error: '',\n      loading: true,\n      pendingAsyncTasksCount: 0,\n      timer: 0,\n    };\n  },\n  unmounted() {\n    window.clearTimeout(this.timer);\n  },\n  mounted() {\n    void this.fetchAsyncTasks();\n    // This next line lets the dropdown menu open after clicking inside it. See the bootstrap source code here:\n    // https://github.com/twbs/bootstrap/blob/0b9c4a4007c44201dce9a6cc1a38407005c26c86/js/dropdown.js#L160\n    window.jQuery(document).on('click.bs.dropdown.data-api', '.async-tasks-dropdown', (e: Event) => e.stopPropagation());\n    window.jQuery(document).on('AsyncTasksViewer:fetchAsyncTasks', () => void this.fetchAsyncTasks());\n  },\n  methods: {\n    refreshTimer: function () {\n      let interval = this.interval;\n      if (this.pendingAsyncTasksCount > 0) {\n        // in case there is actual pending async task, set the interval to 5 seconds\n        interval = 5;\n      }\n      window.clearTimeout(this.timer);\n      this.timer = window.setTimeout(() => {\n        void this.fetchAsyncTasks();\n      }, interval * 1000);\n    },\n    fetchAsyncTasks: async function () {\n      try {\n        const response = await fetch(`${this.url}?limit=${this.pageSize}`);\n        if (response.status >= 200 && response.status < 300) {\n          const newAsyncTasks = await response.json() as EntriesResponse;\n          this.asyncTasks = newAsyncTasks.results;\n          this.hasNextPage = !!newAsyncTasks.next;\n          this.pendingAsyncTasksCount = newAsyncTasks.pending_count;\n          this.refreshTimer();\n        } else {\n          this.error = `${this.$t('async_tasks_viewer.error_fetch_async_tasks')} ( ${response.statusText} )`;\n        }\n      } catch (e) {\n        this.error = `${this.$t('async_tasks_viewer.error_fetch_async_tasks')} ( ${(e as Error).message} )`;\n      } finally {\n        this.loading = false;\n      }\n    },\n    /**\n     * We use the ?limit to get new tasks when clicking on the 'Load more' button as we need to keep all the previous\n     * tasks and add the new ones. All this will be overriden by the setInterval that fetch all the async tasks if we\n     * use the ?offset. So it may generate a big request, but it is very unlikely.\n     */\n    loadMore: async function (e: Event) {\n      e.stopPropagation();  // prevent the dropdown from closing\n      this.loading = true;\n      this.pageSize += this.limit;\n      await this.fetchAsyncTasks();\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\n#async-tasks-viewer {\n  .async-tasks-dropdown {\n    padding: 15px;\n    overflow-y: scroll;\n    max-height: 320px;\n    min-width: 320px;\n  }\n\n  .alert.alert-warning {\n    margin-top: 20px;\n  }\n\n  //-------------------------------------------------\n  // Code from https://codepen.io/ryanmorr/pen/RPZZjd\n  .download {\n    display: inline-block;\n    position: relative;\n\n    &::before,\n    &::after {\n      color: #777;\n      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n    }\n\n    &::after { // async tasks count\n      font-family: Arial sans-serif;\n      font-size: 0.8em;\n      font-weight: 700;\n      position: absolute;\n      top: -10px;\n      right: -15px;\n      padding: 1px 3px;\n      line-height: 100%;\n      border: 2px #fff solid;\n      border-radius: 60px;\n      background: #db3434;\n      opacity: 0;\n      content: attr(data-count);\n      transform: scale(0.5);\n      transition: transform, opacity;\n      transition-duration: 0.3s;\n      transition-timing-function: ease-out;\n      color: #fff;\n      z-index: 2;\n    }\n\n    &.show-count::after {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n\n  //-------------------------------------------------\n}\n</style>\n","/*\n *\n *   OSIS stands for Open Student Information System. It's an application\n *   designed to manage the core business of higher education institutions,\n *   such as universities, faculties, institutes and professional schools.\n *   The core business involves the administration of students, teachers,\n *   courses, programs and so on.\n *\n *   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)\n *\n *   This program is free software: you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation, either version 3 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   A copy of this license - GNU General Public License - is available\n *   at the root of the source code of this program.  If not,\n *   see http://www.gnu.org/licenses/.\n *\n */\n\nimport {createI18n} from 'vue-i18n';\nimport fr from \"./locales/fr\";\nimport en from \"./locales/en\";\n\nexport const i18n = createI18n({\n  locale: document.documentElement.lang || 'en',\n  messages: {\n    en,\n    fr,\n  },\n});\n","/*\n *\n *   OSIS stands for Open Student Information System. It's an application\n *   designed to manage the core business of higher education institutions,\n *   such as universities, faculties, institutes and professional schools.\n *   The core business involves the administration of students, teachers,\n *   courses, programs and so on.\n *\n *   Copyright (C) 2015-2021 Université catholique de Louvain (http://www.uclouvain.be)\n *\n *   This program is free software: you can redistribute it and/or modify\n *   it under the terms of the GNU General Public License as published by\n *   the Free Software Foundation, either version 3 of the License, or\n *   (at your option) any later version.\n *\n *   This program is distributed in the hope that it will be useful,\n *   but WITHOUT ANY WARRANTY; without even the implied warranty of\n *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *   GNU General Public License for more details.\n *\n *   A copy of this license - GNU General Public License - is available\n *   at the root of the source code of this program.  If not,\n *   see http://www.gnu.org/licenses/.\n *\n */\n\n/* eslint-disable vue/prefer-import-from-vue */\nimport {createApp} from '@vue/runtime-dom'; // so that it can be spied on\nimport AsyncTasksViewer from './AsyncTasksViewer.vue';\nimport {i18n} from './i18n';\n\ninterface Props extends Record<string, unknown> {\n  url: string,\n  interval?: number,\n  limit?: number,\n}\n\ndocument.querySelectorAll<HTMLElement>('#async-tasks-viewer').forEach((elem) => {\n  const props: Props = {url: \"\", ...elem.dataset};\n  if (typeof elem.dataset.interval !== 'undefined') {\n    props.interval = Number.parseInt(elem.dataset.interval);\n  }\n  if (typeof elem.dataset.limit !== 'undefined') {\n    props.limit = Number.parseInt(elem.dataset.limit);\n  }\n  createApp(AsyncTasksViewer, props).use(i18n).mount(elem);\n});\n"],"names":["_sfc_main$1","defineComponent","_hoisted_1","_hoisted_3","_hoisted_5","_hoisted_6","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_createElementVNode","_hoisted_2","_normalizeClass","_toDisplayString","_hoisted_4","_hoisted_7","_hoisted_8","_normalizeStyle","_createCommentVNode","_Fragment","_sfc_main","AsyncTask","interval","response","newAsyncTasks","_hoisted_9","_hoisted_10","_hoisted_12","_renderList","asyncTask","_createBlock","_component_AsyncTask","i18n","createI18n","en","fr","elem","props","createApp","AsyncTasksViewer"],"mappings":"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"}